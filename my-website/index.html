<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ChillFlix - Your Movie Hub</title>

  <!-- Preload CSS and JS for performance -->
  <link rel="preload" href="css/home.css" as="style" />
  <link rel="stylesheet" href="css/home.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <link rel="manifest" href="manifest.json" />
 
  <link rel="preload" href="js/home.js" as="script" />
  <script defer src="js/home.js"></script>
</head>

<body>
  <!-- Navbar -->
  <header class="navbar" role="banner">
    <a href="index.html" class="logo" aria-label="ChillFlix Home">
      <img src="chillflix-logo.png" alt="ChillFlix Logo" width="100" height="40" />
    </a>
    <nav class="nav-links" role="navigation" aria-label="Main Navigation">
      <a href="index.html" class="nav-link">Home</a>
      <input
        type="search"
        class="search-bar"
        placeholder="Search..."
        aria-label="Search movies and shows"
        id="search-bar-input"
      />
    </nav>

    <!-- Hamburger Menu Button -->
    <button class="hamburger" aria-label="Toggle navigation menu" aria-expanded="false" id="hamburger-btn">
      <span></span><span></span><span></span>
    </button>
  </header>

  <!-- Nav Menu for Hamburger -->
  <nav class="nav-menu" id="nav-menu" hidden>
    <!-- your nav links here, e.g.: -->
    <a href="index.html" class="nav-link">Home</a>
    <a href="/about.html" class="nav-link">About Us</a>
    <a href="/contact.html" class="nav-link">Contact</a>
  </nav>

  <!-- Banner -->
  <section class="banner" id="banner" role="region" aria-live="polite">
    <h1 id="banner-title"></h1>
  </section>

  <!-- Trending Rows -->
  <main role="main">
    <section class="row" aria-labelledby="movies-heading">
      <h2 id="movies-heading">Trending Movies</h2>
      <div class="list" id="movies-list" role="list" aria-label="Trending Movies"></div>
    </section>

    <section class="row" aria-labelledby="tvshows-heading">
      <h2 id="tvshows-heading">Trending TV Shows</h2>
      <div class="list" id="tvshows-list" role="list" aria-label="Trending TV Shows"></div>
    </section>

    <section class="row" aria-labelledby="anime-heading">
      <h2 id="anime-heading">Trending Anime</h2>
      <div class="list" id="anime-list" role="list" aria-label="Trending Anime"></div>
    </section>
  </main>

  <!-- Simplified Modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-description" style="display:none;">
    <button class="close" aria-label="Close modal" id="modal-close-btn">&times;</button>
    <h2 id="modal-title"></h2>
    <img id="modal-image" alt="" />
    <p id="modal-description"></p>
    <div id="modal-rating" aria-label="Rating stars"></div>
    <label for="server" class="visually-hidden">Select streaming server</label>
    <select id="server" aria-label="Select streaming server">
      <option value="vidsrc.cc">VidSrc.cc</option>
      <option value="vidsrc.me">VidSrc.me</option>
      <option value="player.videasy.net">VideoEasy</option>
    </select>
    <iframe id="modal-video" width="640" height="360" frameborder="0" allowfullscreen></iframe>
  </div>

  <!-- Simplified Search Modal -->
  <div id="search-modal" class="search-modal" hidden role="dialog" aria-modal="true" aria-labelledby="search-label">
    <button id="search-close" aria-label="Close search">&times;</button>
    <input id="search-input" type="search" placeholder="Search movies, TV shows, anime..." aria-describedby="search-label" />
    <div id="search-results" role="listbox" tabindex="0"></div>
  </div>

  <!-- Footer and other content -->
  <!-- (Your existing footer and other elements go here as-is) -->

  <script>
    // Hamburger menu toggle
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const navMenu = document.getElementById('nav-menu');
    hamburgerBtn.addEventListener('click', () => {
      const expanded = hamburgerBtn.getAttribute('aria-expanded') === 'true';
      hamburgerBtn.setAttribute('aria-expanded', !expanded);
      if (navMenu.hasAttribute('hidden')) {
        navMenu.removeAttribute('hidden');
      } else {
        navMenu.setAttribute('hidden', '');
      }
    });

    // Open Search Modal when search bar focused
    const searchBarInput = document.getElementById('search-bar-input');
    const searchModal = document.getElementById('search-modal');
    searchBarInput.addEventListener('focus', () => {
      searchModal.hidden = false;
      document.getElementById('search-input').focus();
    });

    // Close Search Modal
    document.getElementById('search-close').addEventListener('click', () => {
      searchModal.hidden = true;
      searchBarInput.blur();
    });

    // Close Modal button
    const modal = document.getElementById('modal');
    document.getElementById('modal-close-btn').addEventListener('click', () => {
      modal.style.display = 'none';
      // Also stop video, clear iframe src if needed here
      document.getElementById('modal-video').src = '';
    });

    // Placeholder: Implement your search input handling and modal open logic here
  </script>
</body>
</html>
